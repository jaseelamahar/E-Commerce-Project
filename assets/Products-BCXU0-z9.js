import{j as e,L as t,m as x,n as h,p as j,e as g,y as i}from"./index-BJY4bUza.js";import{a as f}from"./AddToCart-D-q5Oe1i.js";const b=({searchResults:r,loading:d})=>{const n=()=>e.jsxs("div",{className:"flex flex-col space-y-2 rounded-2xl shadow p-3 animate-pulse",children:[e.jsx("div",{className:"h-[220px] w-full rounded-xl mb-2 border"}),e.jsx("div",{className:"h-4 rounded w-3/4 mb-1 border"}),e.jsx("div",{className:"h-4 rounded w-1/2 mb-1 border"}),e.jsx("div",{className:"h-4 rounded w-1/4 mb-2 border"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"h-4 w-4 rounded-full border"}),e.jsx("div",{className:"h-4 w-6 rounded border"})]}),e.jsx("div",{className:"h-10 rounded w-full mt-2 border"})]}),o=s=>{g.currentUser?(f(s),i.success(`${s.name||"Product"} added to cart!`)):i.error("Please login to use the cart")},m=s=>{const l=[];for(let a=1;a<=5;a++)s>=a?l.push(e.jsx(x,{className:"text-yellow-400"},a)):s>=a-.5?l.push(e.jsx(h,{className:"text-yellow-400"},a)):l.push(e.jsx(j,{className:"text-yellow-400"},a));return l};return d?e.jsx("div",{className:"mt-4 mb-4",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:Array.from({length:8}).map((s,l)=>e.jsx(n,{},l))})})}):!r||r.length===0?e.jsx("p",{className:"text-center mt-10 text-gray-500 text-lg",children:"No products found"}):e.jsx("div",{className:"mt-4 mb-4",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:r.filter(s=>!s.deleted).map(s=>{const l=s.rating??4.5,a=l>4||s.sale,c=a?Math.max(s.price-200,0):s.price;return e.jsxs("div",{className:"flex flex-col space-y-2 rounded-2xl shadow hover:shadow-lg transition relative p-4 border",children:[a&&e.jsx("span",{className:"absolute top-2 left-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full font-bold",children:"SALE"}),e.jsx(t,{to:`/productdetails/${s.id}`,state:{product:s},children:e.jsx("div",{className:"w-full h-[220px] flex items-center justify-center rounded-2xl overflow-hidden border",children:e.jsx("img",{src:s.image||"https://via.placeholder.com/220x220",alt:s.name||"Product",className:"max-h-full max-w-full object-contain transition-transform duration-300 hover:scale-105"})})}),e.jsx(t,{to:`/productdetails/${s.id}`,state:{product:s},children:e.jsx("h3",{className:"font-semibold text-gray-800 text-md truncate hover:text-amber-500 transition",children:s.name||"Unnamed Product"})}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Colors:"})," ",Array.isArray(s.color)&&s.color.length>0?s.color.join(", "):s.color||"N/A"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Sizes:"})," ",Array.isArray(s.size)&&s.size.length>0?s.size.join(", "):s.size||"N/A"]}),e.jsx("p",{className:"text-sm font-medium text-gray-800",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"line-through text-gray-400 mr-2",children:["₹",s.price.toFixed(2)]}),e.jsxs("span",{className:"text-red-500 font-bold",children:["₹",c.toFixed(2)]})]}):e.jsxs(e.Fragment,{children:["₹",s.price.toFixed(2)]})}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[m(l),e.jsx("span",{className:"text-gray-700 ml-1",children:l.toFixed(1)})]}),e.jsx("button",{onClick:()=>o(s),className:"mt-3 px-4 py-2 rounded-full bg-amber-300 text-gray-800 hover:bg-amber-400 transition text-sm font-semibold shadow",children:"Add to Cart"})]},s.id)})})})})};export{b as default};
