import{k as f,r as l,q as c,w as i,l as n,o as b,j as s,b as m}from"./index-BJY4bUza.js";import{C as j}from"./Card-DtoqvcdT.js";import"./AddToCart-D-q5Oe1i.js";const w=()=>{const{categoryName:a}=f(),[u,g]=l.useState([]),[p,t]=l.useState(!0);l.useEffect(()=>{t(!0);let e;a==="Top Rated"?e=c(n(m,"products"),i("topRated","==",!0)):a==="Sale"?e=c(n(m,"products"),i("sale","==",!0)):e=c(n(m,"products"),i("category","==",a));const d=b(e,o=>{const h=o.docs.map(r=>({id:r.id,...r.data()})).filter(r=>!r.deleted);g(h),t(!1)},o=>{console.error("Error fetching products:",o),t(!1)});return()=>d()},[a]);const x=()=>s.jsxs("div",{className:"border p-4 rounded-lg shadow-sm animate-pulse",children:[s.jsx("div",{className:"bg-gray-300 h-40 w-full rounded mb-4"}),s.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-4"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"h-6 bg-gray-300 rounded w-1/4"}),s.jsx("div",{className:"h-8 bg-gray-300 rounded w-16"})]})]});return s.jsxs("div",{className:"container mx-auto p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:a}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:p?Array.from({length:8}).map((e,d)=>s.jsx(x,{},d)):u.length>0?u.map(e=>s.jsx(j,{product:e},e.id)):s.jsx("p",{className:"text-gray-500",children:"No products found"})})]})};export{w as default};
