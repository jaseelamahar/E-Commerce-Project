import{k as v,t as w,r as l,d as C,o as P,j as e,q as S,l as k,b as g,w as E,v as z,x as A,e as q,y as m}from"./index-BJY4bUza.js";import{a as R}from"./AddToCart-D-q5Oe1i.js";import{C as D}from"./Card-DtoqvcdT.js";const U=()=>{const{id:x}=v(),o=w().state?.product,[t,u]=l.useState(o||null),[b,h]=l.useState(!o),[f,p]=l.useState([]),[i,y]=l.useState(""),[d,j]=l.useState("");l.useEffect(()=>{if(!o){const s=C(g,"products",x),a=P(s,r=>{r.exists()?u({id:r.id,...r.data()}):u(null),h(!1)},r=>{console.error("Error fetching product:",r),h(!1)});return()=>a()}},[x,o]),l.useEffect(()=>{t?.category&&(async()=>{try{const a=S(k(g,"products"),E("category","==",t.category),z(6)),r=await A(a),c=[];r.forEach(n=>{n.id!==t.id&&c.push({id:n.id,...n.data()})}),p(c)}catch(a){console.error("Error fetching related products:",a)}})()},[t]);const N=()=>{if(!q.currentUser){m.error("Please login to use the cart");return}if(!i||!d){m.error("Please select color and size");return}R({...t,selectedColor:i,selectedSize:d}),m.success(`${t.name||"Product"} added to cart!`)};return t?e.jsxs("div",{className:"container mx-auto px-6 py-10",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 bg-white rounded-2xl shadow-xl p-6",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("img",{src:t.image,alt:t.name,className:"w-full max-h-[500px] object-contain rounded-lg transition-transform duration-300 hover:scale-105"})}),e.jsxs("div",{className:"flex flex-col justify-between",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-800 tracking-tight",children:t.name}),e.jsxs("p",{className:"text-amber-500 text-2xl font-bold",children:["â‚¹",t.price]})]}),e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"Product Description"}),e.jsx("p",{className:"text-gray-600 leading-relaxed text-sm md:text-base border-l-4 border-amber-400 pl-4 italic",children:t.description||"Experience comfort and style with our premium selection."}),e.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-1 text-sm md:text-base",children:[e.jsx("li",{children:"High-quality fabric with durable stitching"}),e.jsx("li",{children:"Designed for both casual and formal wear"}),e.jsx("li",{children:"Easy to wash and maintain"})]})]}),Array.isArray(t.size)&&t.size.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("span",{className:"text-gray-700 font-medium text-sm block mb-2",children:"Select Size"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:t.size.map((s,a)=>e.jsx("button",{onClick:()=>j(s),className:`px-4 py-2 rounded-full text-sm font-semibold border transition ${d===s?"bg-amber-500 text-white border-amber-500":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:s},a))})]}),Array.isArray(t.color)&&t.color.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("span",{className:"text-gray-700 font-medium text-sm block mb-2",children:"Select Color"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:t.color.map((s,a)=>{const r=s.toLowerCase(),c=r==="white"||r==="#fff"?"#000":"#fff";return e.jsx("button",{onClick:()=>y(s),className:`w-10 h-10 rounded-full shadow-md border-2 transition ${i===s?"ring-4 ring-amber-400":"hover:scale-110"}`,style:{backgroundColor:r,color:c},title:s},a)})})]}),e.jsx("button",{onClick:N,className:"mt-4 self-start bg-amber-300 text-gray-800 px-3 py-1.5 rounded-full hover:bg-amber-400 transition text-sm font-semibold",children:"Add to Cart"})]})]}),f.length>0&&e.jsxs("div",{className:"mt-12",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"You may also like"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:f.map(s=>e.jsx(D,{product:s},s.id))})]})]}):b?e.jsx("div",{className:"p-6 text-center text-gray-500",children:"Loading..."}):e.jsx("div",{className:"p-6 text-center text-red-500",children:"Product not found."})};export{U as default};
